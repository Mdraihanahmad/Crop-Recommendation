/* Professional Dark Theme */
:root {
  --bg:#022221;
  --bg-alt:#033330;
  --panel:#062f2c;
  --panel-alt:#083f3a;
  --gradient:linear-gradient(160deg,#022826,#053f39,#096454);
  --accent:#15d6a0;
  --accent-alt:#0fb17f;
  --text:#f2fffc;
  --muted:#86a9a2;
  --danger:#ff5b5b;
  --radius:22px;
  --shadow:0 4px 18px -4px rgba(0,0,0,.5),0 2px 6px -1px rgba(0,0,0,.4);
  font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{min-height:100%;background:var(--gradient);color:var(--text);font-family:inherit;}
body::before{content:"";position:fixed;inset:0;background:radial-gradient(circle at 18% 22%,rgba(21,214,160,.15),transparent 60%),radial-gradient(circle at 82% 70%,rgba(9,100,84,.25),transparent 65%);pointer-events:none;}

nav{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:rgba(0,0,0,.25);backdrop-filter:blur(10px);position:sticky;top:0;z-index:10;border-bottom:1px solid rgba(255,255,255,.06);} 
nav .brand{display:flex;align-items:center;gap:.6rem;font-weight:600;font-size:1.05rem;}nav .brand span{background:var(--accent);color:#02332b;padding:.55rem .7rem;border-radius:14px;font-weight:700;box-shadow:0 0 0 4px rgba(21,214,160,.2);} 
nav ul{list-style:none;display:flex;gap:1.1rem;}nav a{text-decoration:none;color:var(--muted);font-size:.85rem;padding:.45rem .75rem;border-radius:12px;transition:.3s;}nav a:hover,nav a.active{color:var(--text);background:rgba(255,255,255,.08);} 

.main-wrap{max-width:1040px;margin:2.8rem auto 3rem;padding:0 1.25rem;display:flex;flex-direction:column;gap:2.2rem;}
.hero{display:flex;flex-direction:column;gap:1.2rem;max-width:760px;} .hero h1{font-size:clamp(2.1rem,5vw,3.2rem);line-height:1.1;font-weight:700;} .hero h1 span{background:linear-gradient(90deg,#fff,#b3ffe9);-webkit-background-clip:text;background-clip:text;color:transparent;} .hero p{color:var(--muted);font-size:1rem;line-height:1.55;}
.actions{display:flex;gap:1rem;flex-wrap:wrap;margin-top:.5rem;}
.btn{--bg:var(--accent);--bg-hover:var(--accent-alt);background:var(--bg);color:#022e27;font-weight:600;border:none;padding:.85rem 1.2rem;border-radius:14px;cursor:pointer;box-shadow:0 4px 14px -4px rgba(0,0,0,.55);font-size:.9rem;letter-spacing:.3px;display:inline-flex;align-items:center;gap:.4rem;transition:.3s;} .btn:hover{background:var(--bg-hover);} .btn.outline{background:rgba(255,255,255,.08);color:var(--text);box-shadow:none;} .btn.outline:hover{background:rgba(255,255,255,.15);} 

.form-card{background:linear-gradient(150deg,var(--panel),var(--panel-alt));padding:2.2rem 2.3rem 2.4rem;border-radius:32px;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.06);max-width:830px;margin:0 auto;}
.form-card h2{font-size:1.85rem;margin:0 0 1.25rem;font-weight:600;letter-spacing:.5px;}
.grid{display:grid;gap:1.15rem;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));}
.field label{font-size:.62rem;font-weight:600;letter-spacing:.7px;color:var(--muted);text-transform:uppercase;display:block;margin:0 0 .4rem;}
.field input{width:100%;padding:.9rem .85rem;border-radius:14px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:var(--text);font-size:.9rem;transition:.3s;} .field input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(21,214,160,.35);} ::placeholder{color:#89aaa3;}
.inline-actions{display:flex;gap:.9rem;flex-wrap:wrap;margin-top:1.4rem;}
.status-box{margin-top:1.3rem;padding:.85rem 1rem;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.05);border-radius:14px;font-size:.68rem;max-height:160px;overflow:auto;white-space:pre-wrap;}
.result-box{margin-top:1.4rem;padding:1.1rem 1.2rem;border-radius:18px;background:rgba(21,214,160,.08);border:1px solid rgba(21,214,160,.35);color:var(--accent);font-size:.95rem;font-weight:500;}
.downloads{display:flex;gap:.6rem;margin-top:.75rem;flex-wrap:wrap;} .downloads a{text-decoration:none;font-size:.65rem;padding:.45rem .7rem;border-radius:10px;background:rgba(255,255,255,.08);color:var(--accent);} .downloads a:hover{background:rgba(255,255,255,.14);} 
.footer{margin:3rem 0 1.2rem;text-align:center;font-size:.65rem;color:var(--muted);} .footer a{color:var(--accent);text-decoration:none;} .footer a:hover{text-decoration:underline;}
@media (max-width:620px){.form-card{padding:1.6rem 1.4rem 1.9rem;border-radius:26px;} nav{padding:.8rem 1rem;} .hero h1{font-size:2.1rem;} }

/* Explanation section styles */
.explain-box{margin-top:1.3rem;background:linear-gradient(145deg,#073630,#06413b);border:1px solid rgba(255,255,255,.06);border-radius:28px;padding:1.4rem 1.6rem 1.6rem;box-shadow:var(--shadow);font-size:.8rem;}
.explain-box h3{margin:0 0 .65rem;font-size:1.05rem;font-weight:600;letter-spacing:.5px;display:flex;align-items:center;gap:.5rem;}
.explain-box h3:before{content:"";width:10px;height:10px;background:var(--accent);border-radius:4px;box-shadow:0 0 0 4px rgba(21,214,160,.25);}
.exp-summary{line-height:1.5;margin:0 0 1rem;color:var(--muted);font-size:.75rem;}
.exp-probs{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.9rem;}
.primary-prob{background:rgba(21,214,160,.18);color:var(--accent);padding:.4rem .75rem;border-radius:16px;font-size:.65rem;font-weight:600;letter-spacing:.5px;border:1px solid rgba(21,214,160,.45);}
.alt-prob{display:flex;align-items:center;flex-wrap:wrap;gap:.35rem;font-size:.6rem;color:var(--muted);}
.alt-prob span{background:rgba(255,255,255,.07);padding:.3rem .55rem;border-radius:14px;color:#c5efe4;font-weight:500;}
.exp-table{width:100%;border-collapse:collapse;font-size:.58rem;overflow:hidden;border-radius:18px;border:1px solid rgba(255,255,255,.07);}
.exp-table thead th{background:rgba(255,255,255,.08);padding:.55rem .55rem;text-align:left;font-weight:600;letter-spacing:.6px;color:#b0d6ce;}
.exp-table td{padding:.5rem .55rem;border-top:1px solid rgba(255,255,255,.07);}
.exp-table tr:nth-child(even){background:rgba(255,255,255,.03);} 
.exp-table tr:hover{background:rgba(21,214,160,.08);} 
.exp-table .assess-good{box-shadow:inset 3px 0 var(--accent);} 
.exp-table .assess-warning{box-shadow:inset 3px 0 #e7b347;} 
.exp-table .assess-risk{box-shadow:inset 3px 0 #ff5b5b;} 
.exp-table .assess-good td:nth-child(6){color:var(--accent);} 
.exp-table .assess-warning td:nth-child(6){color:#f3c969;} 
.exp-table .assess-risk td:nth-child(6){color:#ff8686;} 
.exp-footnote{margin-top:.9rem;font-size:.48rem;letter-spacing:.5px;color:var(--muted);} 
@media (max-width:760px){.explain-box{padding:1.1rem 1.1rem 1.3rem;border-radius:24px;} .exp-table{font-size:.52rem;} .exp-summary{font-size:.68rem;} }

/* Farmer friendly explanation */
.farmer-simple{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);padding:.65rem .75rem;border-radius:14px;font-size:.65rem;line-height:1.4;color:#d9f8ef;margin:-.3rem 0 .85rem;}
.farmer-simple strong{color:var(--accent);font-weight:600;margin-right:.25rem;}
.farmer-suggestions{margin:.45rem 0 0 .9rem;padding:0;list-style:disc;color:#c9e7df;font-size:.6rem;display:grid;gap:.25rem;}
.farmer-suggestions li{margin:0;}

/* Responsive wrappers */
.exp-table-wrapper{overflow-x:auto;margin:-.2rem 0 .4rem;}
.exp-table-wrapper::-webkit-scrollbar{height:6px;} .exp-table-wrapper::-webkit-scrollbar-track{background:rgba(255,255,255,.05);} .exp-table-wrapper::-webkit-scrollbar-thumb{background:rgba(255,255,255,.18);border-radius:10px;}

/* Additional mobile improvements */
@media (max-width:540px){
  nav ul{flex-wrap:wrap;gap:.4rem;}
  nav{padding:.7rem .9rem;}
  .form-card{padding:1.4rem 1.05rem 1.6rem;}
  .grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:.85rem;}
  .field input{padding:.75rem .7rem;font-size:.78rem;}
  .inline-actions .btn{flex:1;justify-content:center;padding:.75rem .7rem;font-size:.75rem;}
  .result-box{font-size:.78rem;padding:.8rem 1rem;}
  .primary-prob{font-size:.55rem;}
  .alt-prob{font-size:.5rem;}
  .pw-badge{font-size:.55rem;padding:.45rem .65rem;}
  .pw-msg{font-size:.5rem;}
  .downloads a{font-size:.55rem;padding:.4rem .55rem;}
  .explain-box{font-size:.72rem;}
  .exp-summary{font-size:.62rem;}
}

@media (max-width:400px){
  .hero h1{font-size:1.75rem;}
  .form-card h2{font-size:1.4rem;}
  .grid{grid-template-columns:1fr;} /* single column on very small devices */
  .explain-box{padding:1rem .9rem 1.1rem;}
}

/* Prevent unintended horizontal scroll except for table wrapper */
body{overflow-x:hidden;}

/* Language selector */
.lang-row{display:flex;align-items:center;gap:.6rem;margin:-.4rem 0 1rem;flex-wrap:wrap;}
.lang-label{font-size:.55rem;letter-spacing:.6px;font-weight:600;color:var(--muted);text-transform:uppercase;}
.lang-select{background:rgba(255,255,255,.07);color:var(--text);border:1px solid rgba(255,255,255,.15);padding:.55rem .7rem;border-radius:12px;font-size:.7rem;cursor:pointer;}
.lang-select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(21,214,160,.35);} 

/* Planting window */
.planting-window{margin-top:1rem;}
.pw-badge{display:inline-block;padding:.55rem .85rem;border-radius:16px;font-size:.6rem;font-weight:600;letter-spacing:.5px;box-shadow:0 2px 6px -2px rgba(0,0,0,.4);margin-bottom:.4rem;}
.pw-loading{background:rgba(255,255,255,.08);color:var(--muted);}
.pw-optimal{background:rgba(21,214,160,.18);color:var(--accent);border:1px solid rgba(21,214,160,.4);} 
.pw-moderate{background:rgba(255,200,60,.18);color:#f7c85c;border:1px solid rgba(255,200,60,.45);} 
.pw-poor{background:rgba(255,90,90,.18);color:#ff8686;border:1px solid rgba(255,90,90,.45);} 
.pw-error,.pw-unknown,.pw-missing{background:rgba(255,255,255,.08);color:#d5d5d5;border:1px solid rgba(255,255,255,.15);} 
.pw-msg{font-size:.55rem;color:var(--muted);line-height:1.35;max-width:520px;}
